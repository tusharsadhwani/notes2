{"version":3,"sources":["components/FancyButton.module.css","components/NoteListItem.module.css","components/Title.module.css","components/Editor.module.css","components/Header.module.css","components/NoteList.module.css","components/Preview.module.css","utils/notes.ts","contexts/NoteContext.ts","utils/debounce.ts","components/Editor.tsx","components/FancyButton.tsx","components/NoteListItem.tsx","components/NoteList.tsx","components/Header.tsx","components/Preview.tsx","components/Title.tsx","App.tsx","index.tsx"],"names":["module","exports","getNotes","notesJSON","localStorage","notes","JSON","parse","setNotes","stringify","addNote","title","content","newNote","id","v4","push","updateNote","noteIndex","findIndex","note","deleteNote","splice","NoteContext","createContext","noteId","setNoteId","setTitle","contentChange","selectNote","undefined","refreshNotes","HTML","functions","Map","debounce","callback","timer","get","clearTimeout","set","setTimeout","Editor","props","useContext","className","classes","editorWrapper","onChange","event","newContent","currentTarget","value","editor","FancyButton","onClick","fancy","NoteListItem","selected","item","style","background","NoteList","addNewNote","useCallback","useState","defaultNoteSelected","setDefaultNoteSelected","useEffect","length","pane","map","index","isSelected","key","Header","header","headerTitle","Preview","previewWrapper","preview","dangerouslySetInnerHTML","__html","Title","display","padding","paddingBottom","flexGrow","placeholder","newTitle","prettify","App","formattedContent","prettier","format","parser","plugins","prettierMarkdown","setContent","markdown","unified","use","remark","remark2rehype","rehypePrism","process","err","html","setHTML","contents","toString","_setNotes","noteContext","Provider","height","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.58e6f28e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"fancy\":\"FancyButton_fancy__29ohL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NoteListItem_item__2kAR8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Title\":\"Title_Title__2huf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editorWrapper\":\"Editor_editorWrapper__1zbtO\",\"editor\":\"Editor_editor__jXHY7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\",\"headerTitle\":\"Header_headerTitle__1Hp6N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pane\":\"NoteList_pane__FQCrz\",\"notes\":\"NoteList_notes__2zVTO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"previewWrapper\":\"Preview_previewWrapper__kRHex\",\"preview\":\"Preview_preview__11IQq\"};","import { v4 } from \"uuid\";\n\nexport const getNotes = (): Note[] => {\n  const notesJSON = localStorage.notes;\n  if (notesJSON) return JSON.parse(notesJSON);\n  else return [];\n};\n\nexport const setNotes = (notes: Note[]) => {\n  localStorage.notes = JSON.stringify(notes);\n};\n\nexport const addNote = (title = \"\", content = \"\") => {\n  const notes = getNotes();\n  const newNote = { id: v4(), title, content };\n  notes.push(newNote);\n  setNotes(notes);\n  return newNote;\n};\n\nexport const updateNote = (id: string, title: string, content: string) => {\n  const notes = getNotes();\n  const noteIndex = notes.findIndex((note) => note.id === id);\n  notes[noteIndex].title = title;\n  notes[noteIndex].content = content;\n  setNotes(notes);\n};\n\nexport const deleteNote = (id: string) => {\n  const notes = getNotes();\n  const noteIndex = notes.findIndex((note) => note.id === id);\n  notes.splice(noteIndex, 1);\n  setNotes(notes);\n};\n","import { createContext } from \"react\";\nimport { addNote, updateNote, deleteNote } from \"../utils/notes\";\n\nconst NoteContext = createContext({\n  noteId: \"\",\n  setNoteId: (id: string) => {},\n  title: \"\",\n  setTitle: (title: string) => {},\n  content: \"\",\n  contentChange: (content: string) => {},\n  selectNote: (note: Note) => {},\n  notes: undefined as Note[] | undefined,\n  refreshNotes: () => {},\n  HTML: \"\",\n  addNote,\n  updateNote,\n  deleteNote,\n});\n\nexport default NoteContext;\n","const functions = new Map<string, NodeJS.Timeout | undefined>();\n\nexport const debounce = (title: string, callback: () => void) => {\n  const timer = functions.get(title);\n  if (timer) {\n    clearTimeout(timer);\n  }\n  functions.set(title, setTimeout(callback, 500));\n};\n","import React, { useContext } from \"react\";\nimport classes from \"./Editor.module.css\";\nimport TextareaAutosize from \"react-autosize-textarea\";\nimport NoteContext from \"src/contexts/NoteContext\";\nimport { debounce } from \"src/utils/debounce\";\n\ninterface EditorProps {\n  value: string;\n  prettify: () => void;\n}\n\nconst Editor: React.FC<EditorProps> = (props) => {\n  const { contentChange, noteId, title, updateNote } = useContext(NoteContext);\n  const handleContentChange = (\n    event: React.ChangeEvent<HTMLTextAreaElement>\n  ) => {\n    const newContent = event.currentTarget.value;\n    contentChange(newContent);\n    debounce(\"update content\", () => {\n      updateNote(noteId, title, newContent);\n    });\n  };\n\n  return (\n    <div className={classes.editorWrapper}>\n      <TextareaAutosize\n        onChange={handleContentChange}\n        value={props.value}\n        className={classes.editor}\n      />\n    </div>\n  );\n};\n\nexport default Editor;\n","import React from \"react\";\nimport classes from \"./FancyButton.module.css\";\n\ninterface FancyButtonProps {\n  onClick: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  title: string;\n}\n\nconst FancyButton: React.FC<FancyButtonProps> = (props) => {\n  return (\n    <button onClick={props.onClick} className={classes.fancy}>\n      {props.title}\n    </button>\n  );\n};\n\nexport default FancyButton;\n","import React, { useContext } from \"react\";\nimport NoteContext from \"../contexts/NoteContext\";\nimport classes from \"./NoteListItem.module.css\";\n\ninterface NoteListItemProps {\n  note: Note;\n  selected: boolean;\n  onClick: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n}\n\nexport const NoteListItem: React.FC<NoteListItemProps> = ({\n  note,\n  selected,\n  onClick,\n}) => {\n  const { title } = useContext(NoteContext);\n\n  return (\n    <div\n      className={classes.item}\n      style={{ background: selected ? \"#ccc\" : undefined }}\n      onClick={onClick}\n    >\n      {(selected ? title : note.title) || \"Untitled Note\"}\n    </div>\n  );\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport NoteContext from \"../contexts/NoteContext\";\nimport FancyButton from \"./FancyButton\";\nimport { NoteListItem } from \"./NoteListItem\";\nimport classes from \"./NoteList.module.css\";\n\nconst NoteList = () => {\n  const { notes, addNote, refreshNotes, selectNote, noteId } = useContext(\n    NoteContext\n  );\n\n  const addNewNote = useCallback(() => {\n    const newNote = addNote();\n    selectNote(newNote);\n    refreshNotes();\n  }, [addNote, refreshNotes, selectNote]);\n\n  const [defaultNoteSelected, setDefaultNoteSelected] = useState(false);\n\n  useEffect(() => {\n    if (notes) {\n      if (notes.length === 0) {\n        addNewNote();\n      }\n      if (!defaultNoteSelected) {\n        if (notes[0]) selectNote(notes[0]);\n        setDefaultNoteSelected(true);\n      }\n    }\n  }, [notes, defaultNoteSelected, addNewNote, selectNote]);\n\n  return (\n    <>\n      <div className={classes.pane}>\n        notes\n        <FancyButton\n          title=\"Add\"\n          onClick={() => {\n            addNewNote();\n          }}\n        />\n      </div>\n      <div className={classes.notes}>\n        {notes\n          ? notes.map((note, index) => {\n              const isSelected = note.id === noteId;\n\n              return (\n                <NoteListItem\n                  key={note.id}\n                  note={note}\n                  selected={isSelected}\n                  onClick={() => selectNote(notes[index])}\n                />\n              );\n            })\n          : null}\n      </div>\n    </>\n  );\n};\n\nexport default NoteList;\n","import React from \"react\";\n\nimport classes from \"./Header.module.css\";\nimport NoteList from \"./NoteList\";\n\nconst Header = () => {\n  return (\n    <div className={classes.header}>\n      <p className={classes.headerTitle}>Q U I L L</p>\n      <NoteList />\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { useContext } from \"react\";\nimport NoteContext from \"../contexts/NoteContext\";\nimport classes from \"./Preview.module.css\";\n\nconst Preview = () => {\n  const { HTML } = useContext(NoteContext);\n\n  return (\n    <div className={classes.previewWrapper}>\n      <div\n        className={classes.preview}\n        dangerouslySetInnerHTML={{ __html: HTML }}\n      />\n    </div>\n  );\n};\n\nexport default Preview;\n","import React, { useContext } from \"react\";\nimport classes from \"./Title.module.css\";\nimport FancyButton from \"./FancyButton\";\nimport NoteContext from \"../contexts/NoteContext\";\nimport { debounce } from \"src/utils/debounce\";\n\ninterface TitleProps {\n  prettify: () => void;\n}\n\nconst Title: React.FC<TitleProps> = (props) => {\n  const { title, setTitle, updateNote, noteId, content } = useContext(\n    NoteContext\n  );\n\n  const handleTitleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newTitle = event.currentTarget.value;\n    setTitle(newTitle);\n    debounce(\"update title\", () => {\n      updateNote(noteId, newTitle, content);\n    });\n  };\n\n  return (\n    <div className={classes.Title}>\n      <section style={{ display: \"flex\", padding: 10, paddingBottom: 0 }}>\n        <div style={{ flexGrow: 1, display: \"flex\" }}>\n          <input\n            placeholder=\"Title\"\n            value={title}\n            onChange={handleTitleChange}\n          />\n        </div>\n        <FancyButton title=\"Prettify\" onClick={props.prettify} />\n      </section>\n      <section></section>\n    </div>\n  );\n};\n\nexport default Title;\n","import prettier from \"prettier\";\nimport prettierMarkdown from \"prettier/parser-markdown\";\nimport React, { useEffect, useState } from \"react\";\nimport stringify from \"rehype-stringify\";\nimport remark from \"remark-parse\";\nimport remark2rehype from \"remark-rehype\";\nimport unified from \"unified\";\n\n//@ts-ignore\nimport rehypePrism from \"@mapbox/rehype-prism\";\n\nimport Editor from \"./components/Editor\";\nimport Header from \"./components/Header\";\nimport Preview from \"./components/Preview\";\nimport NoteContext from \"./contexts/NoteContext\";\nimport Title from \"./components/Title\";\nimport { getNotes, addNote, updateNote, deleteNote } from \"./utils/notes\";\n\nimport \"./App.css\";\nimport \"./shades-of-purple.css\";\nimport { debounce } from \"./utils/debounce\";\n\nconst App = () => {\n  const prettify = () => {\n    const formattedContent = prettier.format(content, {\n      parser: \"markdown\",\n      plugins: [prettierMarkdown],\n    });\n\n    setContent(formattedContent);\n    debounce(\"update content\", () => {\n      updateNote(noteId, title, formattedContent);\n    });\n  };\n\n  const preview = (markdown: string) => {\n    unified()\n      .use(remark)\n      .use(remark2rehype)\n      .use(rehypePrism)\n      .use(stringify)\n      .process(markdown, (err, html) => {\n        if (!err) {\n          setHTML(html.contents.toString());\n        }\n      });\n  };\n\n  const contentChange = (newContent: string) => {\n    setContent(newContent);\n    preview(newContent);\n  };\n\n  const [notes, _setNotes] = useState<Note[]>();\n  const [noteId, setNoteId] = useState<string>(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [HTML, setHTML] = useState(\"\");\n  const selectNote = (newNote: Note) => {\n    setNoteId(newNote.id);\n    setTitle(newNote.title);\n    contentChange(newNote.content);\n  };\n\n  const refreshNotes = () => {\n    _setNotes(getNotes());\n  };\n  useEffect(() => {\n    refreshNotes();\n  }, []);\n\n  const noteContext = {\n    noteId,\n    setNoteId,\n    title,\n    setTitle,\n    content,\n    setContent,\n    selectNote,\n    notes,\n    refreshNotes,\n    addNote,\n    updateNote,\n    deleteNote,\n    contentChange,\n    HTML,\n  };\n\n  return (\n    <NoteContext.Provider value={noteContext}>\n      <div className=\"App\">\n        <Header />\n        <div className=\"mainWrapper\">\n          <Title prettify={prettify} />\n          <main style={{ display: \"flex\", height: \"100%\" }}>\n            <Editor value={content} prettify={prettify} />\n            <Preview />\n          </main>\n        </div>\n      </div>\n    </NoteContext.Provider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}